#If isLessKeysEnabled

    *escape::processKeyDown(layout["escape"])
    *escape up::processRealKeyUp("escape")

    *f1::processKeyDown(layout["F1"])
    *f1 up::processRealKeyUp("F1")

    *f2::processKeyDown(layout["F2"])
    *f2 up::processRealKeyUp("F2")

    *f3::processKeyDown(layout["F3"])
    *f3 up::processRealKeyUp("F3")

    *f4::processKeyDown(layout["F4"])
    *f4 up::processRealKeyUp("F4")

    *f5::processKeyDown(layout["F5"])
    *f5 up::processRealKeyUp("F5")

    *f6::processKeyDown(layout["F6"])
    *f6 up::processRealKeyUp("F6")

    *f7::processKeyDown(layout["F7"])
    *f7 up::processRealKeyUp("F7")

    *f8::processKeyDown(layout["F8"])
    *f8 up::processRealKeyUp("F8")

    *f9::processKeyDown(layout["F9"])
    *f9 up::processRealKeyUp("F9")

    *f10::processKeyDown(layout["F10"])
    *f10 up::processRealKeyUp("F10")

    *f11::processKeyDown(layout["F11"])
    *f11 up::processRealKeyUp("F11")

    *f12::processKeyDown(layout["F12"])
    *f12 up::processRealKeyUp("F12")

    *home::processKeyDown(layout["home"])
    *home up::processRealKeyUp("home")

    *end::processKeyDown(layout["end"])
    *end up::processRealKeyUp("end")

    *insert::processKeyDown(layout["insert"])
    *insert up::processRealKeyUp("insert")

    *delete::processKeyDown(layout["delete"])
    *delete up::processRealKeyUp("delete")

    *sc029::processKeyDown(layout["``"])
    *sc029 up::processRealKeyUp("``")

    *1::processKeyDown(layout[1])
    *1 up::processRealKeyUp(1)

    *2::processKeyDown(layout[2])
    *2 up::processRealKeyUp(2)

    *3::processKeyDown(layout[3])
    *3 up::processRealKeyUp(3)

    *4::processKeyDown(layout[4])
    *4 up::processRealKeyUp(4)

    *5::processKeyDown(layout[5])
    *5 up::processRealKeyUp(5)

    *6::processKeyDown(layout[6])
    *6 up::processRealKeyUp(6)

    *7::processKeyDown(layout[7])
    *7 up::processRealKeyUp(7)

    *8::processKeyDown(layout[8])
    *8 up::processRealKeyUp(8)

    *9::processKeyDown(layout[9])
    *9 up::processRealKeyUp(9)

    *0::processKeyDown(layout[0])
    *0 up::processRealKeyUp(0)

    *-::processKeyDown(layout["-"])
    *- up::processRealKeyUp("-")

    *=::processKeyDown(layout["="])
    *= up::processRealKeyUp("=")

    *backspace::processKeyDown(layout["backspace"])
    *backspace up::processRealKeyUp("backspace")

    *tab::processKeyDown(layout["tab"])
    *tab up::processRealKeyUp("tab")

    *q::processKeyDown(layout["q"])
    *q up::processRealKeyUp("q")

    *w::processKeyDown(layout["w"])
    *w up::processRealKeyUp("w")

    *e::processKeyDown(layout["e"])
    *e up::processRealKeyUp("e")

    *r::processKeyDown(layout["r"])
    *r up::processRealKeyUp("r")

    *t::processKeyDown(layout["t"])
    *t up::processRealKeyUp("t")

    *y::processKeyDown(layout["y"])
    *y up::processRealKeyUp("y")

    *u::processKeyDown(layout["u"])
    *u up::processRealKeyUp("u")

    *i::processKeyDown(layout["i"])
    *i up::processRealKeyUp("i")

    *o::processKeyDown(layout["o"])
    *o up::processRealKeyUp("o")

    *p::processKeyDown(layout["p"])
    *p up::processRealKeyUp("p")

    *[::processKeyDown(layout["["])
    *[ up::processRealKeyUp("[")

    *]::processKeyDown(layout["]"])
    *] up::processRealKeyUp("]")

    *\::processKeyDown(layout["\"])
    *\ up::processRealKeyUp("\")

    *capslock::processKeyDown(layout["capslock"])
    *capslock up::processRealKeyUp("capslock")

    *a::processKeyDown(layout["a"])
    *a up::processRealKeyUp("a")

    *s::processKeyDown(layout["s"])
    *s up::processRealKeyUp("s")

    *d::processKeyDown(layout["d"])
    *d up::processRealKeyUp("d")

    *f::processKeyDown(layout["f"])
    *f up::processRealKeyUp("f")

    *g::processKeyDown(layout["g"])
    *g up::processRealKeyUp("g")

    *h::processKeyDown(layout["h"])
    *h up::processRealKeyUp("h")

    *j::processKeyDown(layout["j"])
    *j up::processRealKeyUp("j")

    *k::processKeyDown(layout["k"])
    *k up::processRealKeyUp("k")

    *l::processKeyDown(layout["l"])
    *l up::processRealKeyUp("l")

    *`;::processKeyDown(layout[";"])
    *`; up::processRealKeyUp(";")

    *'::processKeyDown(layout["'"])
    *' up::processRealKeyUp("'")

    *enter::processKeyDown(layout["enter"])
    *enter up::processRealKeyUp("enter")

    *z::processKeyDown(layout["z"])
    *z up::processRealKeyUp("z")

    *x::processKeyDown(layout["x"])
    *x up::processRealKeyUp("x")

    *c::processKeyDown(layout["c"])
    *c up::processRealKeyUp("c")

    *v::processKeyDown(layout["v"])
    *v up::processRealKeyUp("v")

    *b::processKeyDown(layout["b"])
    *b up::processRealKeyUp("b")

    *n::processKeyDown(layout["n"])
    *n up::processRealKeyUp("n")

    *m::processKeyDown(layout["m"])
    *m up::processRealKeyUp("m")

    *sc033::processKeyDown(layout[","])
    *sc033 up::processRealKeyUp(",")

    *sc034::processKeyDown(layout["."])
    *sc034 up::processRealKeyUp(".")

    *sc035::processKeyDown(layout["/"])
    *sc035 up::processRealKeyUp("/")

    *space::processKeyDown(layout["space"])
    *space up::processRealKeyUp("space")

    *left::processKeyDown(layout["left"])
    *left up::processRealKeyUp("left")

    *down::processKeyDown(layout["down"])
    *down up::processRealKeyUp("down")

    *right::processKeyDown(layout["right"])
    *right up::processRealKeyUp("right")

    *up::processKeyDown(layout["up"])
    *up up::processRealKeyUp("up")

    *pgdn::processKeyDown(layout["pgdn"])
    *pgdn up::processRealKeyUp("pgdn")

    *pgup::processKeyDown(layout["pgup"])
    *pgup up::processRealKeyUp("pgup")

    *appskey::processKeyDown(layout["appskey"])
    *appskey up::processRealKeyUp("appskey")

    *lctrl::processKeyDown(layout["lctrl"])
    *lctrl up::processRealKeyUp("lctrl")

    *rctrl::processKeyDown(layout["rctrl"])
    *rctrl up::processRealKeyUp("rctrl")

    *lalt::processKeyDown(layout["lalt"])
    *lalt up::processRealKeyUp("lalt")

    *ralt::processKeyDown(layout["ralt"])
    *ralt up::processRealKeyUp("ralt")

    *lshift::processKeyDown(layout["lshift"])
    *lshift up::processRealKeyUp("lshift")

    *rshift::processKeyDown(layout["rshift"])
    *rshift up::processRealKeyUp("rshift")

    *pause::processKeyDown(layout["pause"])
    *pause up::processRealKeyUp("pause")

    *MButton::processKeyDown(layout["MButton"])
    *MButton up::processRealKeyUp("MButton")

    *XButton1::processKeyDown(layout["XButton1"])
    *XButton1 up::processRealKeyUp("XButton1")

    *XButton2::processKeyDown(layout["XButton2"])
    *XButton2 up::processRealKeyUp("XButton2")

    *printscreen::processKeyDown(layout["printscreen"])
    *printscreen up::processRealKeyUp("printscreen")

#If

; avoids strange ahk bug where key is spontaneous treated as 2 times up + when other keys are remapped as win/alt key,
; they are sent twice on up
processRealKeyUp(key)
{
    if (GetKeyState(key, "P"))
    {
        return
    }
    processKeyUp(layout[key])
}